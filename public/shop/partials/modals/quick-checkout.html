<!-- Quick Checkout Modal -->
<div class="quick-checkout-modal hidden" id="quickCheckoutModal">
    <div class="quick-checkout-content">
        <div class="quick-checkout-header">
            <h3><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 1.125rem; height: 1.125rem; display: inline-block; vertical-align: middle;"><path fill-rule="evenodd" d="M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z" clip-rule="evenodd" /></svg> Mua ngay</h3>
            <button class="demo-data-btn" onclick="quickCheckout.fillDemoData()" title="ƒêi·ªÅn d·ªØ li·ªáu demo ƒë·ªÉ test">
                <i class="fas fa-flask"></i> Demo
            </button>
            <button class="quick-checkout-close" id="quickCheckoutClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="quick-checkout-body">
            <!-- Product Info -->
            <div class="checkout-product" id="checkoutProduct"></div>
            
            <!-- Cross-sell Products -->
            <div class="cross-sell-container" id="crossSellProducts"></div>
            
            <!-- Quantity -->
            <div class="checkout-form-group">
                <label class="checkout-form-label">
                    <i class="fas fa-box"></i>
                    S·ªë l∆∞·ª£ng
                </label>
                <div class="checkout-quantity">
                    <div class="checkout-qty-selector">
                        <button class="checkout-qty-btn" id="checkoutQtyMinus">
                            <i class="fas fa-minus"></i>
                        </button>
                        <input type="number" class="checkout-qty-input" id="checkoutQty" value="1" min="1" readonly>
                        <button class="checkout-qty-btn" id="checkoutQtyPlus">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Phone -->
            <div class="checkout-form-group">
                <label class="checkout-form-label">
                    <i class="fas fa-phone"></i>
                    S·ªë ƒëi·ªán tho·∫°i<span class="required">*</span>
                </label>
                <input type="tel" class="checkout-form-input" id="checkoutPhone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required>
            </div>
            
            <!-- Name -->
            <div class="checkout-form-group">
                <label class="checkout-form-label">
                    <i class="fas fa-user"></i>
                    H·ªç v√† t√™n<span class="required">*</span>
                </label>
                <input type="text" class="checkout-form-input" id="checkoutName" placeholder="Nh·∫≠p h·ªç v√† t√™n" required>
            </div>
            
            <!-- Address Selector -->
            <div class="checkout-form-group">
                <label class="checkout-form-label">
                    <i class="fas fa-map-marker-alt"></i>
                    ƒê·ªãa ch·ªâ giao h√†ng<span class="required">*</span>
                </label>
                <div id="addressSelectorContainer"></div>
            </div>
            
            <!-- Baby Weight -->
            <div class="checkout-form-group" id="babyWeightGroup">
                <label class="checkout-form-label">
                    <i class="fas fa-baby"></i>
                    C√¢n n·∫∑ng c·ªßa b√©<span class="required">*</span>
                </label>
                
                <!-- Weight Preset Buttons -->
                <div class="weight-preset-buttons">
                    <button type="button" class="weight-preset-btn" data-weight="unborn">
                        <i class="fas fa-heart"></i>
                        <span>Ch∆∞a sinh</span>
                    </button>
                    <button type="button" class="weight-preset-btn" data-weight="3-4kg">
                        <span class="weight-range">3-4kg</span>
                    </button>
                    <button type="button" class="weight-preset-btn" data-weight="4-6kg">
                        <span class="weight-range">4-6kg</span>
                    </button>
                    <button type="button" class="weight-preset-btn" data-weight="6-8kg">
                        <span class="weight-range">6-8kg</span>
                    </button>
                    <button type="button" class="weight-preset-btn" data-weight="8-10kg">
                        <span class="weight-range">8-10kg</span>
                    </button>
                    <button type="button" class="weight-preset-btn" data-weight="10-12kg">
                        <span class="weight-range">10-12kg</span>
                    </button>
                    <button type="button" class="weight-preset-btn" data-weight="12-15kg">
                        <span class="weight-range">12-15kg</span>
                    </button>
                    <button type="button" class="weight-preset-btn weight-custom-btn" data-weight="custom">
                        <i class="fas fa-plus-circle"></i>
                        <span>Nh·∫≠p kh√°c</span>
                    </button>
                </div>
                
                <!-- Hidden input to store selected weight -->
                <input type="hidden" id="checkoutBabyWeight" name="babyWeight" required>
            </div>
            
            <!-- Custom Weight Input (hidden by default) -->
            <div class="checkout-form-group hidden" id="customWeightGroup">
                <label class="checkout-form-label">
                    <i class="fas fa-weight"></i>
                    Nh·∫≠p c√¢n n·∫∑ng (kg)<span class="required">*</span>
                </label>
                <div class="custom-weight-input-wrapper">
                    <input type="number" class="checkout-form-input" id="customWeightInput" placeholder="V√≠ d·ª•: 18" min="3" max="50" step="0.5">
                    <button type="button" class="custom-weight-confirm-btn" id="customWeightConfirmBtn">
                        <i class="fas fa-check"></i>
                        X√°c nh·∫≠n
                    </button>
                </div>
                <small id="customWeightHint" style="color: #666; font-size: 0.85rem; margin-top: 4px; display: flex; align-items: center; gap: 0.5rem;">
                    <span><i class="fas fa-info-circle"></i> Nh·∫≠p t·ª´ 3kg ƒë·∫øn 50kg</span>
                    <button type="button" class="custom-weight-change-btn hidden" id="customWeightChangeBtn" style="margin-left: auto;">
                        <i class="fas fa-edit"></i> Ch·ªçn l·∫°i
                    </button>
                </small>
            </div>
            
            <!-- Baby Name (conditional - only for "Mix th·∫ª t√™n b√©" products) -->
            <div class="checkout-form-group" id="babyNameGroup" style="display: none;">
                <label class="checkout-form-label">
                    <i class="fas fa-signature"></i>
                    T√™n b√© (s·∫Ω ƒë∆∞·ª£c kh·∫Øc l√™n th·∫ª)<span class="required">*</span>
                </label>
                <input type="text" class="checkout-form-input" id="checkoutBabyName" placeholder="V√≠ d·ª•: Minh An, B·∫£o Ng·ªçc" maxlength="30">
                <small style="color: #666; font-size: 0.85rem; margin-top: 4px; display: block;">
                    <i class="fas fa-info-circle"></i> T√™n s·∫Ω ƒë∆∞·ª£c kh·∫Øc ch√≠nh x√°c nh∆∞ b·∫°n nh·∫≠p
                </small>
            </div>
            
            <!-- Discount Code -->
            <div class="checkout-form-group">
                <label class="checkout-form-label">
                    <i class="fas fa-ticket-alt"></i>
                    M√£ gi·∫£m gi√°
                </label>
                <div class="discount-input-wrapper">
                    <input type="text" class="checkout-form-input discount-code-display" id="discountCodeInput" placeholder="Ch·ªçn m√£ gi·∫£m gi√°" readonly>
                    <button class="discount-action-btn" id="discountActionBtn">
                        <i class="fas fa-gift"></i>
                        <span id="discountBtnText">Ch·ªçn m√£</span>
                    </button>
                </div>
            </div>
            
            <!-- Payment Method -->
            <div class="checkout-form-group">
                <label class="checkout-form-label">
                    <i class="fas fa-credit-card"></i>
                    Ph∆∞∆°ng th·ª©c thanh to√°n<span class="required">*</span>
                </label>
                <div class="payment-methods">
                    <div class="payment-method-item active" data-method="cod" onclick="quickCheckout.selectPaymentMethod('cod')">
                        <div class="payment-method-icon">üíµ</div>
                        <div class="payment-method-info">
                            <div class="payment-method-name">Thanh to√°n khi nh·∫≠n h√†ng</div>
                            <div class="payment-method-desc">Thanh to√°n b·∫±ng ti·ªÅn m·∫∑t khi nh·∫≠n h√†ng</div>
                        </div>
                        <div class="payment-method-check">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    <div class="payment-method-item" data-method="bank" onclick="quickCheckout.selectPaymentMethod('bank')">
                        <div class="payment-method-icon">üè¶</div>
                        <div class="payment-method-info">
                            <div class="payment-method-name">Chuy·ªÉn kho·∫£n ng√¢n h√†ng</div>
                            <div class="payment-method-desc">Chuy·ªÉn kho·∫£n tr∆∞·ªõc, giao h√†ng sau</div>
                        </div>
                        <div class="payment-method-check">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Bank Transfer Info (Hidden by default) -->
                <div class="bank-transfer-info hidden" id="bankTransferInfo">
                    <div class="bank-info-header">
                        <i class="fas fa-university"></i>
                        Th√¥ng tin chuy·ªÉn kho·∫£n
                    </div>
                    <div class="bank-info-content">
                        <div class="bank-info-row">
                            <span class="bank-info-label">S·ªë ti·ªÅn c·∫ßn chuy·ªÉn:</span>
                            <span class="bank-info-value highlight" id="bankTransferAmount">0ƒë</span>
                        </div>
                        <div class="bank-info-divider"></div>
                        <div class="bank-info-row">
                            <span class="bank-info-label">Ng∆∞·ªùi nh·∫≠n:</span>
                            <span class="bank-info-value">L√ä TH·ªä ANH</span>
                        </div>
                        <div class="bank-info-row">
                            <span class="bank-info-label">Ng√¢n h√†ng:</span>
                            <span class="bank-info-value bank-name">Techcombank</span>
                        </div>
                        <div class="bank-info-row">
                            <span class="bank-info-label">S·ªë t√†i kho·∫£n:</span>
                            <span class="bank-info-value">
                                <span id="bankAccountNumber">6968969012</span>
                                <button class="copy-btn" onclick="quickCheckout.copyBankInfo('6968969012')" title="Sao ch√©p">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </span>
                        </div>
                        <div class="bank-info-row">
                            <span class="bank-info-label">N·ªôi dung CK:</span>
                            <span class="bank-info-value">
                                <span id="bankTransferNote">0386190596</span>
                                <button class="copy-btn" onclick="quickCheckout.copyBankInfo('0386190596')" title="Sao ch√©p">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </span>
                        </div>
                    </div>
                    <div class="bank-info-note">
                        <i class="fas fa-info-circle"></i>
                        L∆∞u √Ω: Vui l√≤ng chuy·ªÉn ƒë√∫ng s·ªë ti·ªÅn v√† n·ªôi dung.
                    </div>
                    
                    <!-- Compact Countdown Timer -->
                    <div class="payment-countdown-compact" id="paymentCountdown">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 1rem; height: 1rem; display: inline-block;"><path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z" clip-rule="evenodd" /></svg>
                        <span>Vui l√≤ng thanh to√°n trong</span>
                        <strong id="countdownTime">10:00</strong>
                    </div>
                    
                    <button class="bank-confirm-btn" id="bankConfirmBtn" onclick="quickCheckout.confirmBankTransfer()">
                        <i class="fas fa-check-circle"></i>
                        X√°c nh·∫≠n ƒë√£ chuy·ªÉn kho·∫£n
                    </button>
                    <div class="bank-confirm-error hidden" id="bankConfirmError">
                        <i class="fas fa-exclamation-circle"></i>
                        Vui l√≤ng b·∫•m x√°c nh·∫≠n ƒë√£ chuy·ªÉn kho·∫£n
                    </div>
                </div>
            </div>
            
            <!-- Note -->
            <div class="checkout-form-group">
                <label class="checkout-form-label">
                    <i class="fas fa-sticky-note"></i>
                    Ghi ch√∫ (t√πy ch·ªçn)
                </label>
                <textarea class="checkout-form-textarea" id="checkoutNote" placeholder="Ghi ch√∫ cho ƒë∆°n h√†ng (n·∫øu c√≥)"></textarea>
            </div>
            
            <!-- Order Details (moved from footer) -->
            <div class="order-details-section">
                <button class="order-details-toggle active" id="orderDetailsToggle">
                    <span class="order-details-title">
                        <i class="fas fa-receipt"></i>
                        Chi ti·∫øt ƒë∆°n h√†ng
                    </span>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </button>
                
                <div class="order-details-content show" id="orderDetailsContent">
                    <!-- Products List -->
                    <div class="order-products-list">
                        <!-- Main Product -->
                        <div class="order-item">
                            <div class="order-item-info">
                                <span class="order-item-name" id="orderMainProductName">S·∫£n ph·∫©m</span>
                                <span class="order-item-qty" id="orderMainProductQty">x1</span>
                            </div>
                            <span class="order-item-price" id="orderMainProductPrice">0ƒë</span>
                        </div>
                        
                        <!-- Cross-sell Products -->
                        <div id="orderCrossSellItems"></div>
                    </div>
                    
                    <!-- Summary Section -->
                    <div class="order-summary-section">
                        <!-- Subtotal -->
                        <div class="summary-row">
                            <span>T·∫°m t√≠nh:</span>
                            <span class="amount" id="orderSubtotal">0ƒë</span>
                        </div>
                        
                        <!-- Shipping -->
                        <div class="summary-row">
                            <span>Ph√≠ v·∫≠n chuy·ªÉn:</span>
                            <span class="amount" id="orderShipping">0ƒë</span>
                        </div>
                        
                        <!-- Discount (if any) -->
                        <div class="summary-row discount-row hidden" id="orderDiscountRow">
                            <span>
                                <i class="fas fa-tag"></i>
                                Gi·∫£m gi√°:
                            </span>
                            <span class="amount discount-amount" id="orderDiscountAmount">-0ƒë</span>
                        </div>
                        
                        <div class="summary-divider"></div>
                        
                        <!-- Total -->
                        <div class="summary-row total-row">
                            <span>T·ªïng c·ªông:</span>
                            <span class="amount total-amount" id="orderTotalDetail">0ƒë</span>
                        </div>
                        
                        <!-- Payment on Delivery (COD) -->
                        <div class="summary-row payment-row hidden" id="orderPaymentRow">
                            <span class="payment-label">
                                <i class="fas fa-money-bill-wave"></i>
                                <span id="orderPaymentLabel">Thanh to√°n khi nh·∫≠n h√†ng</span>
                            </span>
                            <span class="amount payment-value" id="orderPaymentAmount">0ƒë</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Submit Section - Sticky Footer (outside body) -->
        <div class="checkout-submit-section">
            <div class="checkout-guarantee-box">
                <div class="guarantee-title">Nh·∫≠n h√†ng ki·ªÉm tra tho·∫£i m√°i</div>
                <div class="guarantee-subtitle">Kh√¥ng ∆∞ng √Ω? Ho√†n ti·ªÅn 100%</div>
            </div>
            <button class="checkout-submit-btn" id="checkoutSubmit">
                ƒê·∫∂T H√ÄNG
            </button>
        </div>
    </div>
</div>
