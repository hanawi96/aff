<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·ªè H√†ng - V√≤ng ƒê·∫ßu Tam</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="cart.css">
</head>
<body>
    <!-- Header -->
    <header class="cart-header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="back-btn" aria-label="Quay l·∫°i">
                    <i class="fas fa-arrow-left"></i>
                </a>
                <h1 class="cart-title">
                    Gi·ªè H√†ng
                    <span class="cart-count" id="cartCount">(0)</span>
                </h1>
                <a href="index.html" class="continue-shopping">
                    <i class="fas fa-home"></i>
                    <span>Ti·∫øp t·ª•c mua</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="cart-main">
        <div class="container">
            <div class="cart-layout">
                <!-- Left Column: Cart Items -->
                <div class="cart-items-section">
                    <!-- Empty State -->
                    <div class="empty-cart hidden" id="emptyCart">
                        <i class="fas fa-shopping-cart"></i>
                        <h2>Gi·ªè h√†ng tr·ªëng</h2>
                        <p>H√£y th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng ƒë·ªÉ ti·∫øp t·ª•c</p>
                        <a href="index.html" class="btn-primary">
                            <i class="fas fa-shopping-bag"></i>
                            Xem s·∫£n ph·∫©m
                        </a>
                    </div>

                    <!-- Cart Items -->
                    <div class="cart-items" id="cartItems">
                        <!-- Items will be rendered here -->
                    </div>

                    <!-- Discount Code -->
                    <div class="discount-section hidden" id="discountSection">
                        <h3>
                            <i class="fas fa-gift"></i>
                            M√£ gi·∫£m gi√°
                        </h3>
                        <div class="discount-input-group">
                            <input 
                                type="text" 
                                id="discountCode" 
                                placeholder="Nh·∫≠p m√£ gi·∫£m gi√°"
                                maxlength="20"
                            >
                            <button class="btn-apply" id="applyDiscountBtn">
                                √Åp d·ª•ng
                            </button>
                        </div>
                        <div class="discount-result" id="discountResult"></div>
                        <div class="available-codes">
                            <p class="codes-title">üí° M√£ kh·∫£ d·ª•ng:</p>
                            <div class="code-list" id="availableCodes"></div>
                        </div>
                    </div>

                    <!-- Recommended Products -->
                    <div class="recommended-section hidden" id="recommendedSection">
                        <h3>
                            <i class="fas fa-lightbulb"></i>
                            Kh√°ch h√†ng c≈©ng mua
                        </h3>
                        <div class="recommended-products" id="recommendedProducts"></div>
                    </div>
                </div>

                <!-- Right Column: Summary -->
                <div class="cart-summary-section">
                    <div class="cart-summary" id="cartSummary">
                        <h3>
                            <i class="fas fa-receipt"></i>
                            T√≥m t·∫Øt ƒë∆°n h√†ng
                        </h3>
                        
                        <div class="summary-row">
                            <span>T·∫°m t√≠nh <span class="item-count" id="summaryItemCount">(0 sp)</span>:</span>
                            <span class="amount" id="subtotal">0ƒë</span>
                        </div>
                        
                        <div class="summary-row discount-row hidden" id="discountRow">
                            <span>
                                Gi·∫£m gi√° <span class="discount-code-label" id="discountCodeLabel"></span>:
                            </span>
                            <span class="amount discount-amount" id="discountAmount">-0ƒë</span>
                        </div>
                        
                        <div class="summary-row">
                            <span>Ph√≠ v·∫≠n chuy·ªÉn:</span>
                            <span class="amount" id="shippingFee">30.000ƒë</span>
                        </div>
                        
                        <div class="summary-divider"></div>
                        
                        <div class="summary-row total-row">
                            <span>T·ªïng c·ªông:</span>
                            <span class="amount total-amount" id="totalAmount">0ƒë</span>
                        </div>
                        
                        <button class="btn-checkout" id="checkoutBtn">
                            <i class="fas fa-shopping-cart"></i>
                            Ti·∫øn h√†nh ƒë·∫∑t h√†ng
                        </button>
                        
                        <div class="trust-badges">
                            <div class="badge">
                                <i class="fas fa-check-circle"></i>
                                <span>Thanh to√°n khi nh·∫≠n h√†ng</span>
                            </div>
                            <div class="badge">
                                <i class="fas fa-sync-alt"></i>
                                <span>ƒê·ªïi tr·∫£ trong 7 ng√†y</span>
                            </div>
                            <div class="badge">
                                <i class="fas fa-shield-alt"></i>
                                <span>B·∫£o h√†nh 6 th√°ng</span>
                            </div>
                        </div>
                    </div>

                    <!-- Free Shipping Progress -->
                    <div class="shipping-progress hidden" id="shippingProgress">
                        <div class="progress-header">
                            <i class="fas fa-truck"></i>
                            <span id="shippingMessage">Th√™m 230.000ƒë ƒë·ªÉ FREE SHIP</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Confirm Dialog -->
    <div class="modal-overlay hidden" id="confirmModal">
        <div class="modal-content">
            <div class="modal-header">
                <i class="fas fa-exclamation-circle"></i>
                <h3>X√°c nh·∫≠n</h3>
            </div>
            <div class="modal-body" id="confirmMessage"></div>
            <div class="modal-footer">
                <button class="btn-cancel" id="confirmCancel">H·ªßy</button>
                <button class="btn-confirm" id="confirmOk">X√°c nh·∫≠n</button>
            </div>
        </div>
    </div>

    <!-- Contact Buttons -->
    <div id="contactButtonsContainer"></div>

    <link rel="stylesheet" href="assets/css/faq-modal.css">
    <script src="cart.js"></script>
    <script src="assets/js/faq-modal.js"></script>
    <script>
        // Load contact buttons
        fetch('partials/contact-buttons.html')
            .then(response => response.text())
            .then(html => {
                const container = document.getElementById('contactButtonsContainer');
                container.innerHTML = html;
                console.log('Contact buttons loaded and scripts executed');
            })
            .catch(error => console.error('Error loading contact buttons:', error));
    </script>
</body>
</html>
